"use strict";(()=>{var e={};e.id=576,e.ids=[576],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},6721:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>k,staticGenerationAsyncStorage:()=>l});var o={};t.r(o),t.d(o,{GET:()=>c});var s=t(49303),a=t(88716),n=t(60670),p=t(87070),i=t(20330);async function c(e){try{let r=await (0,i.getToken)({req:e,secret:process.env.NEXTAUTH_SECRET});if(!r||!r.accessToken)return p.NextResponse.json({error:"Unauthorized"},{status:401});if("facebook"!==r.provider)return p.NextResponse.json({error:"Invalid provider"},{status:400});let t=r.accessToken,o=await fetch(`https://graph.facebook.com/v18.0/me/accounts?access_token=${t}`),s=await o.json();if(!o.ok)return console.error("Facebook Graph API Error:",s),p.NextResponse.json({error:s.error?.message||"Failed to fetch Facebook pages"},{status:o.status});let a=s.data.map(e=>({id:e.id,name:e.name,access_token:e.access_token,category:e.category,picture:`https://graph.facebook.com/${e.id}/picture?type=small&access_token=${t}`}));return p.NextResponse.json({pages:a})}catch(e){return console.error("Internal Server Error:",e),p.NextResponse.json({error:"Internal Server Error"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/facebook/pages/route",pathname:"/api/facebook/pages",filename:"route",bundlePath:"app/api/facebook/pages/route"},resolvedPagePath:"C:\\Users\\win11\\Desktop\\newequa1\\src\\app\\api\\facebook\\pages\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:k}=u,x="/api/facebook/pages/route";function f(){return(0,n.patchFetch)({serverHooks:k,staticGenerationAsyncStorage:l})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,972,330],()=>t(6721));module.exports=o})();